# LovePetty 使用说明

## 📋 目录

1. [快速开始](#快速开始)
2. [用户注册](#用户注册)
3. [桌面宠物操作](#桌面宠物操作)
4. [好友系统](#好友系统)
5. [互动功能](#互动功能)
6. [系统托盘](#系统托盘)
7. [故障排除](#故障排除)

## 🚀 快速开始

### 安装依赖
```bash
pip install -r requirements.txt
```

### 运行程序
```bash
python main.py
```

程序启动后会自动弹出用户注册对话框。

## 👤 用户注册

### 首次使用
1. **启动程序**：运行 `python main.py`
2. **注册用户**：自动弹出注册对话框
3. **生成ID**：点击"生成ID"按钮创建唯一用户ID
4. **输入昵称**：输入你的昵称
5. **确认注册**：点击"注册"按钮完成注册

### 用户ID说明
- 用户ID格式：`U` + 8位随机字符（如：`U12345678`）
- 用户ID是你在系统中的唯一标识
- 请妥善保管，用于好友搜索和登录

## 🐕 桌面宠物操作

### 基本操作
- **拖拽移动**：按住左键拖拽桌宠到任意位置
- **点击交互**：轻点桌宠显示交互菜单
- **右键菜单**：右键桌宠显示系统菜单

### 窗口特性
- **始终置顶**：桌宠始终显示在最前面
- **稳定显示**：不会因点击外部区域而消失
- **透明背景**：只有桌宠本身，无多余界面

### 默认位置
- 程序启动时桌宠位于屏幕右下角
- 可以通过右键菜单"移动到右下角"快速定位

## 👥 好友系统

### 搜索好友
1. **打开搜索**：右键桌宠选择"好友搜索"
2. **输入ID**：在搜索框中输入其他用户的ID
3. **搜索用户**：点击"搜索"按钮
4. **查看结果**：搜索结果会显示用户信息

### 发送好友申请
1. **找到用户**：通过搜索找到目标用户
2. **输入消息**：在申请消息框中输入个性化消息
3. **发送申请**：点击"发送好友申请"按钮
4. **等待接受**：等待对方接受你的申请

### 接受好友申请
1. **收到通知**：当收到好友申请时会弹出对话框
2. **查看信息**：显示申请人的ID、昵称和消息
3. **选择操作**：点击"是"接受或"否"拒绝
4. **确认关系**：接受后双方成为好友

### 好友列表
- **查看好友**：在好友搜索对话框中查看好友列表
- **在线状态**：显示好友的在线/离线状态
- **刷新列表**：点击"刷新好友列表"更新状态

## 🎮 互动功能

### 控制宠物
1. **选择控制**：点击桌宠选择"控制小狗1"或"控制小狗2"
2. **确认控制**：系统会显示控制成功提示
3. **开始互动**：现在可以设置表情和互动动作

### 表情变化
- **开心**：小狗显示开心表情
- **难过**：小狗显示难过表情
- **愤怒**：小狗显示愤怒表情
- **骄傲**：小狗显示骄傲表情
- **害羞**：小狗显示害羞表情
- **惊讶**：小狗显示惊讶表情

### 互动动作
- **抚摸**：抚摸小狗
- **拥抱**：拥抱小狗
- **亲吻**：亲吻小狗
- **捏脸**：捏小狗的脸
- **敲打**：轻轻敲打小狗

### 同步机制
- **实时同步**：好友间可以实时看到对方的动作
- **表情同步**：表情变化会同步到好友的桌宠
- **互动同步**：互动动作会同步显示

## 📱 系统托盘

### 托盘功能
- **显示桌宠**：从托盘恢复桌宠显示
- **隐藏桌宠**：将桌宠隐藏到托盘
- **退出程序**：完全退出程序

### 托盘图标
- 程序运行时会在系统托盘显示图标
- 右键托盘图标显示操作菜单
- 支持最小化到托盘后台运行

## 🔧 故障排除

### 常见问题

#### 1. 桌宠无法拖拽
**问题**：桌宠无法移动位置
**解决**：
- 确保按住左键进行拖拽
- 检查是否有其他程序占用鼠标事件
- 重启程序尝试

#### 2. 桌宠消失
**问题**：点击外部区域后桌宠消失
**解决**：
- 检查程序是否在后台运行
- 查看系统托盘是否有程序图标
- 右键托盘图标选择"显示桌宠"

#### 3. 网络连接失败
**问题**：无法注册用户或搜索好友
**解决**：
- 检查网络连接是否正常
- 确认服务器是否正常运行
- 稍后重试或联系管理员

#### 4. 好友申请失败
**问题**：无法发送或接受好友申请
**解决**：
- 确认用户ID是否正确
- 检查是否已经是好友
- 确认对方用户是否存在

### 性能优化

#### 1. 减少资源占用
- 关闭不必要的后台程序
- 定期重启程序释放内存
- 避免同时运行多个实例

#### 2. 网络优化
- 使用稳定的网络连接
- 避免在网络高峰期进行大量操作
- 定期检查网络状态

## 📞 技术支持

### 获取帮助
- **查看日志**：程序运行时会输出调试信息
- **测试功能**：运行 `python test.py` 检查功能
- **重启程序**：遇到问题时尝试重启程序

### 报告问题
- 详细描述问题现象
- 提供错误信息和日志
- 说明操作步骤和环境

---

**LovePetty** - 让桌面宠物成为连接好友的桥梁 🐕💕 